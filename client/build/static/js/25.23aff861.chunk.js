(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[25],{855:function(e,t,a){"use strict";a.r(t);var n=a(349),r=a(366),c=a(352),l=a(0),o=a.n(l),i=a(7),s=a(364),m=a(359),d=a(866),u=a(856),E=a(857),g=a(382),b=a(369),f=a(858),h=a(365),v=a(108);t.default=function(){var e=Object(l.useState)(null),t=Object(c.a)(e,2),a=t[0],p=t[1],O=Object(l.useState)(0),j=Object(c.a)(O,2),y=j[0],D=j[1],S=Object(l.useState)(""),w=Object(c.a)(S,2),x=w[0],C=w[1],N=Object(l.useState)(!1),T=Object(c.a)(N,2),k=T[0],B=T[1],z=Object(l.useState)(null),F=Object(c.a)(z,2),W=F[0],A=F[1],P=Object(l.useState)({eventName:"",desc:"",date:""}),R=Object(c.a)(P,2),Y=R[0],J=R[1],L=function(){return B(!k)},M=Object(i.k)(),G=function(e){var t=e.target,a=t.name,c=t.value;J((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a,c))}))},I=function(e){Object(v.a)("/deleteEvent","POST",{eventName:e}).then((function(e){return 200===e.status})).then((function(t){t?M.push("/dates"):alert("Error deleting ".concat(e,"!"))}))};return Object(l.useEffect)((function(){var e=new Date,t="".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear());C(t)}),[x]),Object(l.useEffect)((function(){Object(v.a)("/events","GET").then((function(e){return 200===e.status&&e.json()})).then((function(e){if(e){for(var t=[],a=0;a<e.length;a++){var n=new Date;(new Date(e[a][3])-n)/864e5<=-1?I(e[a][1]):t.push(e[a])}p(t)}}))}),[]),Object(l.useEffect)((function(){var e=[],t=[];if(a){D(a.length);for(var n=function(n){var r=new Date,c=(new Date(a[n][3])-r)/864e5;c=c<0?0:c,e.push(o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{class:"card bg-white",style:0===c?{borderWidth:1.5,marginRight:-5,marginTop:5,marginBottom:5,borderColor:"red"}:{borderWidth:1.5,marginRight:-5,marginTop:5,marginBottom:5}},o.a.createElement("button",{style:{borderWidth:0,backgroundColor:"white",width:25,float:"right",position:"absolute",top:0,right:0},onClick:function(){return e=a[n][1],void(window.confirm("Are you sure to delete ".concat(e))&&Object(v.a)("/deleteEvent","POST",{eventName:e}).then((function(e){return 200===e.status})).then((function(t){t?M.push("/dates"):alert("Error deleting ".concat(e,"!"))})));var e}}," \u2715 "),o.a.createElement("div",{class:"card-body text-center"},o.a.createElement("h5",{class:"card-title",style:{fontSize:20,marginTop:-10}}," ",a[n][1]," ","<3"," "),o.a.createElement("p",{class:"card-text",style:{marginTop:-13,marginBottom:5}}," Description: ",a[n][2]," "),o.a.createElement("p",{class:"card-text",style:{fontSize:40,marginTop:-13,marginBottom:-15}}," ",c.toFixed(0)>1?"".concat(c.toFixed(0)," DAYS"):"".concat(c.toFixed(0)," DAY")," LEFT"),o.a.createElement("p",{class:"card-text",style:{marginTop:10,marginBottom:-15}}," Date: ",o.a.createElement("u",null," ",a[n][3]," ")," "))))),n===a.length-1&&t.push(o.a.createElement(s.a,null,e))},r=0;r<10&&r<a.length;r++)n(r);A(t)}}),[a]),o.a.createElement("div",{className:"animated fadeIn"},o.a.createElement("div",{className:"card-deck"},o.a.createElement("div",{class:"card bg-transparent",style:{borderWidth:0,marginRight:-10,maxWidth:"50%"}},o.a.createElement("div",{class:"card-body"},o.a.createElement("h5",{class:"card-title",style:{fontSize:25}}," Today Date : "),o.a.createElement("p",{class:"card-text text-center",style:{fontSize:50,marginTop:-55,marginBottom:-15}}," ",x," "))),o.a.createElement(m.a,{style:{borderColor:"black",width:"50%",marginLeft:10},onClick:L},o.a.createElement("h5",{style:{fontSize:25}},"Create Event")),o.a.createElement(d.a,{isOpen:k,toggle:L},o.a.createElement(u.a,{toggle:L}," Create an event to mark! "),o.a.createElement(E.a,null,o.a.createElement(s.a,{style:{margin:10}},o.a.createElement("label",{for:"event"},"Event Name"),o.a.createElement(g.a,{className:"mb-1"},o.a.createElement(b.a,{type:"text",name:"eventName",placeholder:"Enter Event Name",value:Y.eventName,onChange:G}))),o.a.createElement(s.a,{style:{margin:10}},o.a.createElement("label",{for:"desc"},"Description (Optional)"),o.a.createElement(g.a,{className:"mb-1"},o.a.createElement(b.a,{type:"text",name:"desc",placeholder:"Enter Description",value:Y.desc,onChange:G}))),o.a.createElement(s.a,{style:{margin:10}},o.a.createElement("label",{for:"date"},"Date"),o.a.createElement(g.a,{className:"mb-1"},o.a.createElement(b.a,{type:"date",name:"date",placeholder:"Enter Date",value:Y.date,onChange:G})))),o.a.createElement(f.a,null,o.a.createElement(m.a,{onClick:function(){y<24?Object(v.a)("/event","POST",Y).then((function(e){return 200===e.status})).then((function(e){e?M.push("/dates"):alert("Error registering a new Event!")})):alert("Maximum amount of event registered.")}},"Done"),o.a.createElement(m.a,{onClick:L},"Cancel")))),o.a.createElement("div",{className:"card-deck"},o.a.createElement(h.a,null,W)))}}}]);
//# sourceMappingURL=25.23aff861.chunk.js.map